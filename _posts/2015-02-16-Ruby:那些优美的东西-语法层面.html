<html server-rendered="true"><head><meta charset="UTF-8"> <meta name="viewport" content="initial-scale=1,maximum-scale=1,minimum-scale=1,width=device-width,user-scalable=no"> <meta name="renderer" content="webkit"> <meta name="theme-color" content="#ffffff"> <link href="/css/build.HomePage.css" rel="stylesheet"> <link href="/css/build.PostPage.css" rel="stylesheet"> <title> Minghe </title></head><section class="post-view"><h1 class="post-title">
    Ruby:那些优美的东西-语法层面
    <time pubdate="pubdate" class="post-date"></time></h1> <article><p>我对优美的东西真实一点抵抗力都没有啊，其实学习 Ruby 看的第一本书是 &quot;Ruby 元编程&quot;, 一下子就陷入了 Ruby 的坑，<br>&quot;Ruby 元编程&quot; 是一本把 Ruby 的与众不同的特性展示的最好的一本书，整本书一句废话都没有，无论是 Ruby 刚入门还<br>是 Ruby 老手，我都特别推荐这本书，在看这本书之后，你才发现你开始深入体会了 Ruby 让程序员变得快乐的真正意义。</p>
<p>我不敢说也不是 Ruby 老手，我只是单纯喜欢这门优美的语言，本文我想从语法的层面来展示 Ruby 那些优美的细节。当<br>然我更希望自己后续可以写一篇 &quot;Ruby: 那些优美的的地方-设计层面&quot;</p>
<h3 id="循环">循环</h3><ul>
<li><p>for</p>
<p>几乎对于所有的编程语言而言，for 语句的存在都是为了遍历数组，而在 Ruby 中遍历数组的方式可以有</p>
</li>
</ul>
<pre><code class="lang-undefined">  <span class="token keyword">for</span> i <span class="token keyword">in</span> array
    code block
  end
或者
  array<span class="token punctuation">.</span>each <span class="token keyword">do</span> <span class="token operator">|</span>element<span class="token operator">|</span>
    code block
  end
或者
  array<span class="token punctuation">.</span>each_with_index <span class="token keyword">do</span> <span class="token operator">|</span>element<span class="token punctuation">,</span> index<span class="token operator">|</span>
    code block
  end
或者</code></pre><p>其实对于循环，Ruby 有非常漂亮的其他语法.</p>
<ul>
<li>upto</li>
</ul>
<pre><code class="lang-undefined">  <span class="token number">1</span><span class="token punctuation">.</span><span class="token function">upto</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">do</span> <span class="token operator">|</span>i<span class="token operator">|</span>
    code block
  end</code></pre><ul>
<li><p>downto</p>
<pre><code class="lang-undefined"><span class="token number">10</span><span class="token punctuation">.</span><span class="token function">downup</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">do</span> <span class="token operator">|</span>i<span class="token operator">|</span>
code block
end</code></pre></li>
<li><p>.. 运算符: 创建从开始到结束的范围</p>
</li>
</ul>
<pre><code class="lang-undefined">  <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">.</span>each <span class="token keyword">do</span> <span class="token operator">|</span>i<span class="token operator">|</span>
    code block
  end</code></pre><ul>
<li>... 运算符: 创建从开始到结束的范围, 但是不包含结束</li>
</ul>
<pre><code class="lang-undefined">  <span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">...</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">.</span>each <span class="token keyword">do</span> <span class="token operator">|</span>i<span class="token operator">|</span>
    code block
  end</code></pre><h3 id="分支控制">分支控制</h3><ul>
<li><p>if</p>
<p>Ruby 的 if 语句和其他语言基本上没有区别，比较有意思的可以使用 short if，在很多场景下很方便.</p>
</li>
</ul>
<pre><code class="lang-undefined">  <span class="token keyword">if</span> expression
    code block
  end

或者
  <span class="token keyword">if</span> expression
    code block
  elsif expression
    code block
  end</code></pre><p>  Short if 如</p>
<pre><code class="lang-undefined">  variable <span class="token operator">=</span> <span class="token punctuation">(</span>expression<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">(</span> expression<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">-</span><span class="token boolean">true</span> <span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token punctuation">(</span> expression<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">-</span><span class="token boolean">false</span><span class="token punctuation">)</span></code></pre><ul>
<li><p>case</p>
<p>case 语句非常有用，当对表达的结果有可预知的范围时，用 case 语句非常的方便.</p>
</li>
</ul>
<pre><code class="lang-undefined">  <span class="token keyword">case</span> expression
  when expression1
    code bloc
  when expression2
    code bloc
  <span class="token keyword">else</span>
    code bloc
  end</code></pre><ul>
<li><p>unless</p>
<p>还有比较好玩的 unless 语句, 它和 if !expression 实际上是等价.</p>
</li>
</ul>
<pre><code class="lang-undefined">  unless expression
    code bloc
  end</code></pre><ul>
<li>while, until<br>也和其他语言如 Shell 是一样的.</li>
</ul>
<pre><code class="lang-undefined">  <span class="token keyword">while</span> expression
    code bloc
  end

  until expressino
    code bloc
  end</code></pre></article></section><footer class="footer">
  Copyright ©2014-2017 <a href="http://minghe.me"> minghe.me</a> | Powered by <a href="https://github.com/metrue/Seal">Seal</a> on top of <a href="https://vuejs.org" target="_blank">Vue.js</a></footer></html>